<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>BuildingChoiceController.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Cst316</a> &gt; <a href="index.source.html" class="el_package">application</a> &gt; <span class="el_source">BuildingChoiceController.java</span></div><h1>BuildingChoiceController.java</h1><pre class="source lang-java linenums">package application;

import java.net.URL;
import java.util.ResourceBundle;

import cst316.Building;
import cst316.Player;
import javafx.event.ActionEvent;
import javafx.fxml.FXML;
import javafx.scene.control.Button;
import javafx.scene.control.ComboBox;
import javafx.scene.control.TextArea;
import javafx.scene.image.Image;
import javafx.scene.image.ImageView;
import javafx.scene.input.ContextMenuEvent;
import javafx.scene.layout.AnchorPane;
import javafx.scene.text.Text;

<span class="nc" id="L19">public class BuildingChoiceController extends AnchorPane {</span>

    @FXML
    private TextArea descriptionBox;
    @FXML
    private ComboBox&lt;String&gt; dropMenu;
    @FXML
    private Button returnButton;
    @FXML
    private ImageView buildingPicture;
    @FXML
    private Button purchaseButton;

    private Building output;
    private Main application;
    private Player player;
    @FXML
    private AnchorPane AnchorPane;
    @FXML
    private Text doneText;

	public void setBuilding(Building output) {
<span class="nc" id="L41">		this.output = output;</span>
<span class="nc" id="L42">		dropMenu.getSelectionModel().select(output.getName());</span>
<span class="nc" id="L43">		Image image = new Image(getClass().getClassLoader().getResourceAsStream(output.getImage()));</span>
<span class="nc" id="L44">		buildingPicture.setImage(image);</span>
<span class="nc" id="L45">		descriptionBox.clear();</span>
<span class="nc" id="L46">		descriptionBox.appendText(&quot;Cost: &quot; + output.getTotalCost() + &quot;\n&quot;);</span>
<span class="nc" id="L47">		descriptionBox.appendText(&quot;Description: &quot; + output.getDescription() + &quot;\n&quot;);</span>
<span class="nc" id="L48">	}</span>

	// Event Listener on ComboBox[#dropMenu].onAction
	@FXML
	public void dropMenuFired(ActionEvent event) throws Exception {
<span class="nc" id="L53">		String name = (String) dropMenu.getSelectionModel().getSelectedItem().toString();</span>
<span class="nc" id="L54">		setBuilding(new Building(name));</span>
<span class="nc" id="L55">	}</span>

	// Event Listener on Button[#returnButton].onAction
	@FXML
    public void returnButtonFired(ActionEvent event) throws Exception {
<span class="nc" id="L60">        LandingController ctr = (LandingController) application.replaceSceneContent(&quot;Landing.fxml&quot;, LandingController.class);</span>
<span class="nc" id="L61">        ctr.setApp(application);</span>
<span class="nc" id="L62">    }</span>

    //@Override
    public void setApp(Main app) {
<span class="nc" id="L66">        application = app;</span>
<span class="nc" id="L67">        player = app.getPlayer();</span>
<span class="nc" id="L68">        dropMenu.getItems().addAll(Building.getAllBuildingNames());</span>
<span class="nc" id="L69">         doneText.setText(null);</span>
<span class="nc" id="L70">    }</span>

    @FXML
    public void purchaseButtonFired(ActionEvent event) {
<span class="nc bnc" id="L74" title="All 2 branches missed.">        if (player.getMoney() &gt;= output.getTotalCost()) {</span>
<span class="nc" id="L75">            player.getBuildings().add(output);</span>
<span class="nc" id="L76">            player.setMoney(player.getMoney() - output.getTotalCost());</span>
<span class="nc" id="L77">            doneText.setText(&quot;DONE&quot;);</span>
        }
<span class="nc" id="L79">    }</span>
    
	@FXML
<span class="nc" id="L82">	public void changeMenu(ContextMenuEvent event) {};</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.2.201409121644</span></div></body></html>